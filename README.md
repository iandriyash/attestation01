Pizzeria Application
1. Описание проекта

Проект реализует серверную часть веб-приложения для онлайн-заказа пиццы.
Приложение построено на Java 17 с использованием Spring Boot 3.2.0.
Основные функции: управление меню пицц, создание и обработка заказов, поиск и мягкое удаление записей.

Архитектура основана на паттерне MVC и разделена на слои Controller, Service, Repository, Entity и DTO.

2. Технологии и инструменты

Java 17

Spring Boot 3.2.0

Spring Web

Spring Data JPA (Hibernate)

PostgreSQL

Flyway

Maven

Lombok

JUnit 5, Spring Boot Test, H2 Database

JaCoCo (покрытие тестов)

3. Структура проекта

Controller — REST API для работы с заказами и пиццами

Service — бизнес-логика: валидация данных, расчеты, операции с БД

Repository — интерфейсы доступа к данным через Spring Data JPA

Entity — классы-сущности, отображающие таблицы БД

DTO — классы передачи данных между слоями и внешними клиентами

Utils — вспомогательные методы (валидация и проверки)

Resources — миграции Flyway, конфигурационные файлы

Tests — unit и integration тесты

4. Основные компоненты

PizzaController
Обрабатывает запросы к API пицц. Методы:

GET /api/pizzas — получение всех пицц

GET /api/pizzas/{id} — получение пиццы по ID

POST /api/pizzas — создание новой пиццы

PUT /api/pizzas/{id} — обновление данных пиццы

DELETE /api/pizzas/{id} — мягкое удаление (soft delete)

OrderController
Управляет заказами. Методы:

POST /api/orders — создание нового заказа

GET /api/orders — получение списка заказов

GET /api/orders/{id} — получение заказа по ID

PATCH /api/orders/{id}/status — изменение статуса заказа

DELETE /api/orders/{id} — мягкое удаление заказа

Service слой
Содержит бизнес-логику:

Валидация входных данных

Расчет общей стоимости заказа

Фильтрация только активных сущностей

Управление статусами заказов

Repository слой
Интерфейсы PizzaRepository, OrderRepository, OrderItemRepository реализуют доступ к данным.
Используются Derived Queries и JPQL для выборки только активных записей (isDeleted = false).

Entity слой

Pizza: id, name, description, price, isDeleted, createdAt

Order: id, customerName, customerPhone, totalPrice, status, isDeleted, createdAt

OrderItem: id, order, pizza, quantity, price

DTO слой

PizzaDto, OrderDto, OrderItemDto — для ответа клиенту

CreateOrderRequest — для приема JSON-запроса

5. Работа с базой данных

Используется PostgreSQL

Структура БД создается автоматически с помощью Flyway

Все сущности содержат флаг isDeleted для реализации soft delete

Для тестов используется встроенная БД H2

6. Запуск проекта

Установить PostgreSQL и создать базу данных pizzeria

Настроить подключение в application.yml

Собрать проект через Maven

mvn clean install


Запустить приложение

mvn spring-boot:run


Приложение будет доступно по адресу

http://localhost:8080

7. Примеры запросов

Создание заказа (POST /api/orders)

{
"customerName": "Иван Иванов",
"customerPhone": "+79991234567",
"items": [
{"pizzaId": 1, "quantity": 2},
{"pizzaId": 2, "quantity": 1}
]
}


Ответ (201 Created)

{
"id": 3,
"customerName": "Иван Иванов",
"totalPrice": 1450.00,
"status": "NEW",
"createdAt": "2025-11-04T19:24:00"
}

8. Тестирование

Репозитории тестируются через @DataJpaTest с H2

Сервисы и контроллеры — через @SpringBootTest и MockMvc

Покрытие кода измеряется через JaCoCo

Общий набор тестов: 55

Покрытие по классам — 32%

Сервисы — 85%

Контроллеры — 96%

9. Особенности реализации

Soft Delete: логическое удаление через флаг isDeleted

DTO слой изолирует внутреннюю структуру БД от API

Flyway гарантирует идентичную структуру схемы на всех окружениях

Логирование реализовано через Lombok Slf4j

Используется паттерн Dependency Injection

Все методы репозиториев работают только с активными записями

Валидация данных вынесена в отдельный утилитарный класс

10. Результаты

Проект соответствует требованиям промежуточной аттестации Модуль 3.
Реализован полный цикл CRUD-операций, миграции, soft delete и тестовое покрытие.
Структура кода соответствует шаблону MVC и требованиям Spring Boot.

11. Заключение

Проект реализует полноценное серверное приложение на Java с использованием Spring Boot и соответствует требованиям промышленной разработки.

Архитектура построена на шаблоне MVC и разделяет ответственность между слоями Controller, Service, Repository и Entity, что обеспечивает читаемость и расширяемость кода.

Использование Spring Data JPA позволило отказаться от ручного написания SQL-запросов и обеспечило безопасную работу с базой данных PostgreSQL.

Миграции Flyway гарантируют воспроизводимость структуры базы данных и упрощают развертывание приложения на других средах.

Реализованный DTO слой позволяет изолировать внутренние модели данных от внешнего API и делает систему гибкой при изменениях в структуре БД.

Soft delete обеспечивает сохранение истории данных и удобство при тестировании и восстановлении записей.

Проведено модульное тестирование всех основных компонентов приложения. Тесты покрывают бизнес-логику, репозитории и контроллеры, обеспечивая стабильность и предсказуемость работы системы.

Приложение успешно взаимодействует с клиентами через REST API, что подтверждено ручным и автоматическим тестированием.

Код оформлен в соответствии со стандартами Java и Spring, включает логирование, обработку ошибок и тестовое покрытие.

Разработанная система может быть расширена за счет добавления аутентификации пользователей, интеграции с фронтендом и внедрения Docker контейнеризации.

Итог:
Проект Pizzeria демонстрирует владение основными технологиями экосистемы Spring, принципами построения REST API и практиками промышленной разработки Java-приложений. Реализация охватывает все ключевые аспекты серверной части — от архитектуры и хранения данных до тестирования и развертывания.

Дополнительно см. отчет по аттестации:
ATTESTATION03_REPORT.md